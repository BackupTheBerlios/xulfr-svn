
<p>
Nous avons déjà vu quelques caractéristiques de fenêtres. Nous allons en voir
quelques unes de plus dans cette section.
</p>

<h2>Créer une autre fenêtre</h2>

<p>
Vous pouvez créer une seconde fenêtre pour votre application de la même manière
que vous avez créé la première. Il suffit de créer un second fichier XUL avec
le code de la fenêtre à l'intérieur. Comme en HTML, vous pouvez utiliser la fonction
<code>window.open</code> pour ouvrir la seconde fenêtre. Cette fonction retournera une référence
à la fenêtre nouvellement ouverte. Vous pouvez utiliser cette référence pour appeler
des fonctions de l'autre fenêtre.
</p>

<p>
La fonction <code>open</code> prend trois arguments. Le premier est l'URL du fichier que vous
souhaitez ouvrir. Le second est le nom interne de la fenêtre. Le troisième est une
liste de drapeaux de paramètres d'affichage. Le drapeau <code>chrome</code> est important pour ouvrir la fenêtre
comme un fichier chrome. Si vous n'ajoutez pas le drapeau <code>chrome</code>, le fichier sera
 ouvert dans une nouvelle fenêtre du navigateur.
</p>

<p>Par exemple&nbsp;:</p>

<pre><code>window.open("chrome://findfile/content/findfile.xul","findfile","chrome");</code></pre>

<h2>Spécifier la largeur et la hauteur</h2>

<p>
Vous aurez noté que lorsque des éléments sont ajoutés à une fenêtre, la largeur
de la fenêtre s'étend pour s'adapter aux nouveaux éléments. La fenêtre n'est en
fait qu'une boîte flexible et qui prend par défaut une orientation verticale.
Vous pouvez également spécifier la largeur et la hauteur directement dans la
balise <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/window">window</a></code>.
Cela, bien sûr, oblige la fenêtre à prendre une taille spécifique. Si vous ôtez
ces spécifications, la taille sera déterminée par les élements qui la constituent.
</p>

<pre><code>&lt;window
  id="findfile-window"
  title="Recherche de fichiers"
  width="400"
  height="450"
  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"&gt;</code></pre>

<p>
Dans cet exemple, la fenêtre sera ouverte avec une largeur de 400 pixels et une
hauteur de 450 pixels. Même s'il n'y a pas assez d'éléments pour lui faire prendre
cette taille, la fenêtre s'ouvrira toujours à cette taille et il y aura un espace
blanc dans l'espace restant. S'il y a trop d'élements, la fenêtre ne s'adaptera
pas pour eux. L'utilisateur devra redimensionner la boîte de dialogue. Vous devez
faire attention, lorsque vous spécifiez une largeur et une hauteur, à ce que la
fenêtre ne soit pas trop petite ou trop grande.
</p>

<p class="note">Notez que vous devez spécifier à la fois la largeur <strong>et</strong> la hauteur. Si vous ne spécifiez
qu'une des deux valeurs, l'autre sera mise à <var>0</var>. Pour que la fenêtre détermine sa
taille automatiquement, omettez les toutes les deux.</p>

<p>
La largeur et la hauteur déterminent seulement la taille initiale de la fenêtre.
L'utilisateur peut toujours redimensionner la fenêtre, à condition que celle-ci
soit redimensionnable.
</p>

<h2>Autres propriétés de fenêtre</h2>

<p>
Les drapeaux ci-après peuvent être utilisés comme troisième argument de la
fonction <code>window.open</code>. Votre système d'exploitation peut ne pas tous les supporter.
Vous pouvez également utiliser un des drapeaux pré-existants que vous devriez
trouver dans une référence Javascript. Vous pouvez desactiver une propriété en
la réglant sur <var>no</var>, par exemple <code>dialog=<var>no</var></code>.
</p>

<dl>
  <dt><code>alwaysLowered</code></dt>
  <dd>La fenêtre apparaîtra toujours derrière les autres fenêtres.</dd>

  <dt><code>alwaysRaised</code></dt>
  <dd>La fenêtre apparaîtra toujours devant les autres fenêtres.</dd>

  <dt><code>centerscreen</code></dt>
  <dd>À son ouverture, la fenêtre sera centrée par rapport à l'écran.</dd>

  <dt><code>dependent</code></dt>
  <dd>La position de la fenêtre sera toujours relative à la fenêtre qui l'a ouverte.
      Si la position de la fenêtre initiale est modifiée, la deuxième fenêtre bougera
      automatiquement de même manière.</dd>

  <dt><code>dialog</code></dt>
  <dd>la fenêtre est une boîte de dialogue pouvant apparaître différemment.</dd>

  <dt><code>modal</code></dt>
  <dd>La boite de dialogue est modale. La fenêtre qui a ouvert la fenêtre modale ne
      peut pas être utilisée tant que la fenêtre modale n'est pas fermée.</dd>

  <dt><code>resizable</code></dt>
  <dd>L'utilisateur peut redimensionner la fenêtre.</dd>
</dl>

<h2>Déboguer une fenêtre</h2>

<p>Une autre propriété trèe utile lors des développements est l'activation
du mode déboggage sur une fenêtre. Pour l'activer, ajoutez un
attribut <code class="attribut">debug</code> à la fenêtre et régler le sur
<var>true</var>. Il obligera la fenêtre à mettre en évidence les boîtes
et les espacements pour que vous puissiez voir ce qui se passe. L'exemple
ci-après montre comment l'utiliser.</p>

<p>Exemple 12.1.1&nbsp;:
<a href="exemples/ex_featwin_1.xul.txt">Source</a>
<a onclick="window.open(this.href,'xulex','chrome,resizable'); return false;" href="exemples/ex_featwin_1.xul">Voir</a></p>

<pre><code>&lt;window
  id="findfile-window"
  title="Recherche de fichiers"
  debug="true"
  xmlns:html="http://www.w3.org/1999/xhtml"
  xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"&gt;</code></pre>

<p>L'image ci-dessous montre l'effet appliqué à une simple fenêtre.</p>

<p><img src="images/featwin.png" class="screenshot" alt="" /></p>

<ul>
  <li>Les boîtes bleues indiquent les boîtes horizontales.</li>
  <li>Les boîtes rouges indiquent les boîtes verticales. Vous pouvez voir que
  la fenêtre est également une boîte verticale.</li>
  <li>Les zigzags montrent où sont les éléments flexibles. Dans ce cas,
  l'espacement est flexible donc un zigzag apparaît au dessus.</li>
  <li>Les lignes montrent où sont les éléments non flexibles, dans notre
  cas le texte, les champs de formulaire et les boutons.</li>
  <li>Les boîtes carrés blanches indiquent les limites des éléments.</li>
</ul>

<p>
Sur l'image, vous pouvez noter plusieurs boîtes supplémentaires.
En fait, chaque élément XUL est lui-même constitué d'un
certain nombre de boîtes, définies avec XBL. Vous pouvez normalement les
ignorer. Vous pouvez définir l'attribut <code class="attribut">debug</code>
sur chaque boîte, pas seulement sur la fenêtre.
</p>

<hr />

<p>Nous allons voir ensuite comment ouvrir des boîtes de dialogue secondaires.</p>


