
<p>Lors de la phase de description des règles, le constructeur de gabarits se charge de définir une série d'informations telle que les résultats possibles disponibles, l'endroit où le contenu doit être généré, et les indications sur quoi faire lorsque la source de données RDF change. Ce réseau d'information est conservé durant la vie du gabarit à moins qu'il ne soit reconstruit. Le constructeur de gabarits utilise une méthode basée sur <a href="http://en.wikipedia.org/wiki/Rete_algorithm">l'algorithme RETE (en)</a> pour faire ses requêtes sur les données. Elle permet d'assurer des mises à jour facile des résultats lorsque, par exemple, une nouvelle entrée est ajoutée dans le graphe RDF. Plutôt que de reconstruire la totalité du gabarit, l'algorithme permet de ne ré-examiner que des parties spécifiques du réseau d'information. Une méthode similaire peut être utilisée lorsque des entrées RDF sont supprimées.</p>

<p>Le réseau d'information créé par le constructeur de gabarits contient plusieurs pièces différentes d'informations nécessaires. Pour le sujet de notre discussion, nous ne considèrerons que la liste des résultats possibles. Le constructeur commence avec un premier résultat possible, appelé la graine (<acronym title="Note du Traducteur">NdT</acronym>&nbsp;: seed). Le constructeur traite chacune des conditions des règles de façon séquentielle. Pour une condition particulière, il parcourt chaque résultat possible trouvé jusque là, et les accepte ou les rejette. Pour la première condition, seule la graine sera disponible comme résultat possible. À chaque étape, de nouveaux résultats possibles seront ajoutés, ou une autre information appartenant à un résultat existant sera ajoutée au réseau. Naturellement, un résultat rejeté sera supprimé. Dès que toutes les conditions ont été analysées, tous les résultats subsistant représentent les correspondances. Les correspondances sont le point final déclenchant la génération de contenu. Donc, en résumé&nbsp;:</p>

<ol>
  <li>Démarrer avec un résultat possible en tant que graine&nbsp;;</li>
  <li>Parcourir les résultats déterminés jusque là et les augmenter avec les données supplémentaires&nbsp;;</li>
  <li>Ajouter tous nouveaux résultats possibles&nbsp;;</li>
  <li>Supprimer tous résultats rejetés&nbsp;;</li>
  <li>Répéter les étapes 2 à 4 pour chaque règle conditionnelle&nbsp;;</li>
  <li>Une fois terminé, tous les résultats restant représentent les correspondances.</li>
</ol>

<p>Chacun des résultats possibles est constitué d'une série de couples variable-valeur. Par exemple, un résultat pourrait ressembler à ceci&nbsp;:</p>

<pre><code>(?nom = Fred, ?age = 5)</code></pre>

<p>Ce résultat a deux variables, ?nom avec la valeur <var>Fred</var> et ?age avec la valeur <var>5</var>. Les variables débutent par un point d'interrogation, et les valeurs sont des ressources RDF ou des littéraux. Ici, nous utiliserons des chaînes de caractères pour les valeurs afin de faciliter la lecture. Si nous avions deux résultats, ils pourraient ressembler à ceci&nbsp;:</p>

<pre><code>(?nom = Fred, ?age = 5)
(?nom = Mary, ?age = 12)</code></pre>

<p>C'est la représentation des résultats possibles que nous utiliserons dans les prochaines sections.</p>

<p>Plus tard, nous pourrions avoir une condition qui supprimerait des résultats tous les males. Ainsi, notre résultat après ce filtrage pourrait ressembler à ceci&nbsp;:</p>

<pre><code>(?nom = Mary, ?age = 12, ?genre = Femelle)</code></pre>

<p>Cette condition a supprimé Fred des résultats potentiels et ajouté la variable ?genre pour Mary. Il s'agit d'un fonctionnement typique d'une règle conditionnelle, par l'ajout de variables supplémentaires à un résultat et leurs filtrages par rapport à une valeur donnée. S'il s'agissait de la dernière condition, Mary deviendrait la correspondance à afficher.</p>
