
<p>Un gabarit XUL est construit sur la base d'une série de règles. Chaque règle contient deux choses, un jeu d'instructions pour naviguer à travers un graphe RDF et du contenu XUL à générer. A partir d'un point donné, le constructeur de gabarit va évaluer les instructions de navigation pour chacune des règles et générera une série de données intermédiaires correspondant à ces règles. Le contenu correspondant sera ensuite généré. Le mécanisme est en fait plus compliqué, mais c'est l'idée générale.</p>

<p>Il existe deux syntaxes pour la déclaration des règles, la syntaxe simplifiée et la syntaxe étendue (ou complète). Comme son nom l'indique, la syntaxe simplifiée est plus simple mais est limitée dans le type de données qu'elle peut parcourir. Elle peut être utilisée pour parcourir un et un seul arc (ou flèche) dans le graphe RDF. La syntaxe étendue permet de naviguer n'importe où dans le graphe. La syntaxe simplifiée sera presque toujours utilisée pour parcourir une série d'enfants d'un conteneur RDF tel qu'un Seq. Un élément Seq RDF est un conteneur dont les enfants sont disposés dans un ordre spécifique. Le gabarit générera ces résultats dans cet ordre.</p>

<p>La syntaxe simplifiée est une sous version de la syntaxe étendue, et en tant que telle, elle peut être réécrite en utilisant la syntaxe étendue. En fait, le constructeur de gabarit se charge de convertir la règle simplifiée dans une syntaxe étendue avant de l'utiliser. Quelque soit la syntaxe que vous préférez, vous devez utiliser celle qui vous semble la plus naturelle. Notez toutefois que la syntaxe simplifiée utilise une légère optimisation lors de l'emploi de plusieurs règles contrairement à la syntaxe étendue. Nous verrons cela dans le détail plus tard.</p>

<p>Chaque règle est déclarée en utilisant la balise <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/rule">rule</a></code> que vous placerez directement à l'intérieur de l'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/template">template</a></code>. Vous pouvez avoir autant de règles que vous le désirez ou une seule. Lors de l'emploi de la syntaxe simplifiée, vous pouvez omettre l'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/rule">rule</a></code> puisque vous ne pouvez en utiliser qu'une seule. La syntaxe étendue nécessite toutefois toujours un élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/rule">rule</a></code>.</p>

<p>Voici le squelette externe de la syntaxe du gabarit à ce stade&nbsp;:</p>

<pre><code>&lt;vbox datasources="http://www.xulplanet.com/ds/sample.rdf"
         ref="http://www.xulplanet.com/rdf/A" flex="1"&gt;
  &lt;template&gt;
    &lt;rule&gt;
      -- Le contenu de la règle se place ici --
    &lt;/rule&gt;
    &lt;rule&gt;
      -- Le contenu de la règle se place ici --
    &lt;/rule&gt;
  &lt;/template&gt;
&lt;/vbox&gt;</code></pre>

<p>Lorsque le constructeur de gabarit débute son processus, et après le chargement de la source de données, il commence à compiler les règles. Cette étape implique de travailler à travers les règles et de les lancer des processus internes. Ainsi, la modification dynamique des éléments <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/rule">rule</a></code> n'aura aucun effet. Toutefois, la reconstruction du gabarit (en utilisant la méthode <code>builder.rebuild</code>) recompilera les règles et réappliquera de nouveau le gabarit. Cela signifie que vous pouvez modifier les règles grâce aux méthodes du DOM, reconstruire le gabarit, et obtenir des résultats différents.</p>
