
<p>Lorsqu'il est nécessaire de parcourir les fils d'un conteneur RDF, une syntaxe de règle simplifiée peut être utilisée. Elle peut également être utilisée pour parcourir un seul prédicat. Naviguer dans de tel graphe RDF est courant, donc la syntaxe simplifiée est justifiée dans cette situation puisqu'elle limite le nombre de balises. Bien qu'il s'agisse d'une syntaxe simple, elle n'en est pas moins efficace, au moins lorsqu'une règle est invoquée. Une règle simple est équivalente à une règle ayant seulement une balise <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/content">content</a></code> et une balise <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/tag">tag</a></code>, de même qu'une série optionnelle de triplets à partir du noeud enfant. Dans sa forme la plus simple, la syntaxe de la règle simplifiée est équivalente aux conditions suivantes&nbsp;:</p>

<pre><code>&lt;conditions&gt;
  &lt;content uri="?start"/&gt;

  &lt;member container="?start" child="?photo"/&gt;
&lt;/conditions&gt;</code></pre>

<p>Le constructeur de gabarits utilise la syntaxe de règle simplifiée à chaque fois la règle du gabarit ne contient pas d'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/conditions">conditions</a></code>. Si un élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/conditions">conditions</a></code> est présent, la syntaxe complète est utilisée à la place. Dans la syntaxe simplifiée, le constructeur utilisera les conditions par défaut indiquées ci-avant, bien que les noms de variables soient générées aléatoirement.</p>

<p>Puisque la liste des photos parcourt les fils d'un conteneur, nous pouvons utiliser la syntaxe simplifiée. Voici à quoi elle devra ressembler&nbsp;:</p>

<pre><code>&lt;rule&gt;
  &lt;vbox class="box-padded" uri="rdf:*"&gt;
    &lt;image src="rdf:*"/&gt;
    &lt;label value="rdf:http://purl.org/dc/elements/1.1/title"/&gt;
  &lt;/vbox&gt;
&lt;/rule&gt;</code></pre>

<p>Aucun élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/conditions">conditions</a></code> ou <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/action">action</a></code> n'est utilisé. À la place, le constructeur utilise une série de conditions par défaut, et l'action est placée directement à l'intérieur de l'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/rule">rule</a></code>. Vous pouvez constater que ce code est bien plus simple que la syntaxe complète. Pour comprendre comment il fonctionne, examinons comment le constructeur traite une règle simplifiée. Tout d'abord, il évalue les conditions par défaut comme ci-dessus, excepté qu'aucune variable n'est utilisée, ou tout au moins aucune utilisée en externe. En réalité, il faut considérer que le constructeur convertit une règle simplifiée en une règle étendue, et ainsi il procède de la même manière. Après que les conditions par défaut aient été évaluées, le réseau d'information ressemble à quelque chose comme ceci&nbsp;:</p>

<pre><code>(?1 = http://www.xulplanet.com/rdf/myphotos,
 ?2 = http://www.xulplanet.com/ndeakin/images/t/palace.jpg)
(?1 = http://www.xulplanet.com/rdf/myphotos,
 ?2 = http://www.xulplanet.com/ndeakin/images/t/canal.jpg)
(?1 = http://www.xulplanet.com/rdf/myphotos,
 ?2 = http://www.xulplanet.com/ndeakin/images/t/obselisk.jpg)</code></pre>

<p>Les nombres sont utilisés ici comme noms de variables, mais en réalité, ils sont générés aléatoirement et vous ne pouvez pas y faire référence en aucune manière. Les données membres, ou les résultats sont contenus dans la variable représentée par <var>?2</var>. Trois correspondances ont été trouvées donc le contenu sera dupliqué trois fois.</p>

<p>Il existe différents attributs dans le contenu ayant un préfixe <var>rdf:</var> sur leur valeurs. Comme vous ne pouvez pas déclarer de variables avec la syntaxe simplifiée, une autre manière est employée pour obtenir les données RDF. Le préfixe <var>rdf:</var> signifie de rechercher un prédicat pointant en dehors d'un noeud vers ce résultat (le fils ou le membre d'un noeud). Par exemple, l'attribut <code class="attribut">value</code> du libellé a une valeur de <var>rdf:http://purl.org/dc/elements/1.1/title</var>. Il signifie de rechercher la valeur du prédicat "http://purl.org/dc/elements/1.1/title" pointant en dehors du résultat courant. Bien sûr, il devient évident que cet attribut définira le titre de la photo.</p>

<p>Vous pouvez obtenir d'autres prédicats de la même manière, simplement en utilisant le prédicat uri et en lui ajoutant le préfixe <var>rdf:</var>. Vous pouvez également combiner deux résultats dans un seul attribut en les séparant par un espace ou un signe ^ comme vous le feriez avec la syntaxe complète. Par exemple&nbsp;:</p>

<pre><code>&lt;label value="rdf:http://purl.org/dc/elements/1.1/title http://www.xulplanet.com/rdf/country"/&gt;</code></pre>

<p>La forme <var>rdf:</var> est réellement équivalente à la balise <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/binding">binding</a></code> de la syntaxe complète. Le sujet de la liaison est la ressource membre résultante, le prédicat est la chaîne de caractères venant juste après <var>rdf:</var> et l'objet n'est pas nécessaire car la valeur est remplacée directement dans l'attribut. Comme avec les liaisons, la valeur n'est pas nécessaire pour assurer la correspondance, donc les données n'ont pas à être présentes dans le graphe RDF. Si une photo n'a pas de titre, celui-ci sera remplacé par une chaîne de caractères vide.</p>

<p>La valeur spéciale <var>rdf:*</var> signifie l'uri de la ressource résultat, plutôt que la référence à un prédicat. Elle est équivalente à la variable ?photo dans cet exemple si la syntaxe complète était utilisée. Vous pouvez voir dans l'exemple que la valeur <var>rdf:*</var> est utilisée à deux endroits, au niveau de l'attribut <code class="attribut">uri</code> sur le <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/hbox">hbox</a></code> et de l'attribut <code class="attribut">src</code> pour l'image.</p>

<p>Voici <a href="exemples/template-guide-ex19.xul" onclick="window.open(this.href,'xulex','chrome,resizable'); return false;">l'exemple des photos</a> utilisant la syntaxe simplifiée. Le filtrage n'est pas présent dans cet exemple. Il est toutefois possible de faire le filtrage en utilisant des règles simplifiées, c'est ce que nous verrons par la suite.</p>
