
<p>Tous les gabarits utilisés jusqu'à présent avaient leur élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/template">template</a></code> placé à l'intérieur de l'élément racine contenant l'attribut <code class="attribut">datasources</code>. Cependant, vous pouvez utiliser l'attribut <code class="attribut">template</code> pour faire référence à un gabarit situé ailleurs dans le document. Cette méthode vous permet de partager le même gabarit dans différentes parties de l'interface utilisateur. Firefox l'utilise pour l'affichage de ses marque-pages dans le menu et dans la barre d'outils, puisqu'il s'agit du même gabarit pour afficher les items du menu dans les deux cas. Il suffit d'utiliser un gabarit partagé et de faire une utilisation intelligente des règles multiples. Pour cette technique, placez un attribut <code class="attribut">template</code> sur l'élément racine en lui définissant l'<code class="attribut">id</code> d'un gabarit <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/template">template</a></code>.</p>

<pre><code>&lt;listbox datasources="template-guide-photos5.rdf"
            ref="http://www.xulplanet.com/rdf/myphotos"
            template="photoTemplate"/&gt;

...
&lt;template id="photoTemplate"&gt;
  ...
&lt;/template&gt;</code></pre>

<p>Ce gabarit sera partagé avec tous les éléments qui font référence à l'<code class="attribut">id</code> <var>photoTemplate</var>. Ici, la boîte de liste n'a aucun fils, bien qu'elle puisse en avoir. Si vous lui ajouter des fils, ils seront considérés comme étant du contenu statique comme dans le cas où le gabarit serait présent. Cependant, il est possible d'utiliser du contenu statique différent pour chaque usage, même quand le gabarit est partagé. Les attributs <code class="attribut">datasources</code> et <code class="attribut">ref</code> diffèrent également pour chaque usage, donc il est possible d'utiliser un gabarit partagé pour afficher la même structure plusieurs fois mais avec des noeuds de départ différents à chaque fois. Le contenu généré est toujours inséré à l'intérieur du noeud racine, dans cet exemple l'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/listbox">listbox</a></code>, pas à l'intérieur du gabarit.</p>

<p>Normalement, le conteneur et les variables membres sont déterminés par le constructeur de gabarits automatiquement. Le conteneur ou la variable du noeud de départ est spécifié dans la balise <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/content">content</a></code> à l'intérieur d'une balise <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/conditions">conditions</a></code> d'une règle, tandis que la variable membre est déterminée par la valeur de l'attribut <code class="attribut">uri</code> à l'intérieur du corps d'action. Il est également possible d'être explicite au sujet des deux variables en utilisant deux attributs sur l'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/template">template</a></code>.</p>

<pre><code>&lt;template container="?first" member="?item"&gt;</code></pre>

<p>Les attributs <code class="attribut">container</code> et <code class="attribut">member</code> peuvent être utilisés pour spécifier les variables conteneur et membre. Cela ne présente pas un grand intérêt si ce n'est d'offrir une légère optimisation au constructeur qui n'a pas besoin d'analyser le corps d'action pour rechercher la variable membre lorsqu'il compile les règles. Vous pouvez également utiliser ces attributs pour rendre votre code plus clair lorsque vous avez des règles très complexes.</p>

<p>Un avantage possible est avec l'emploi de la syntaxe simplifiée dans laquelle vous ne spécifiez pas les variables&nbsp;; à la place, vous utiliserez la syntaxe spéciale <var>rdf:*</var> pour les variables membre et conteneur. Grâce aux attributs <code class="attribut">container</code> et <code class="attribut">member</code>, vous pouvez utiliser des variables spécifiques à la place.</p>

<pre><code>&lt;hbox datasources="template-guide-photos5.rdf"
      ref="http://www.xulplanet.com/rdf/myphotos"&gt;
  &lt;template container="?start" member="?photo"&gt;

    &lt;rule&gt;
      &lt;image uri="?photo" src="?photo"/&gt;
    &lt;/rule&gt;
  &lt;/template&gt;
&lt;/hbox&gt;</code></pre>

<p>Dans <a href="exemples/template-guide-ex43.xul" onclick="window.open(this.href,'xulex','chrome,resizable'); return false;">cet exemple</a>, la variable ?photo peut être utilisée à la place de <var>rdf:*</var> (Cependant, vous pouvez utiliser l'un ou l'autre, et ce même si cous spécifiez la variable membre). Vous pouvez vous servir de notations de ce type pour rendre votre code plus lisible. Nous pourrions aussi utiliser la variable conteneur ?start dans le corps d'action. Si vous utilisez la syntaxe simplifiée et désirez utiliser la variable conteneur pour le contenu, vous devez employer l'attribut <code class="attribut">container</code> puisqu'il n'y a pas d'autre manière d'y faire référence. Notez également que l'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/rule">rule</a></code> est requis ici, sinon le constructeur pensera que les attributs <code class="attribut">container</code> et <code class="attribut">member</code> sont des conditions servant aux tests.</p>
