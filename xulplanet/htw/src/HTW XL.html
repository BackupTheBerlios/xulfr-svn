
<p>Le constructeur de contenu des gabarits utilise un composant séparé pour l'insertion des noeuds générés à l'intérieur du contenu des arbres. Il sert pour l'insertion des noeuds qui sont créés initialement ou lorsqu'un résultat devient disponible. Ce composant supplémentaire est appelé le service de tri. Il est chargé de déterminer où les noeuds doivent être insérés sans le document XUL. Comme ce composant est appelé 'service de tri', il sert également à trier les résultats générés. Puisqu'un graphe RDF ne spécifie pas d'ordre pour les résultats -- à moins que les items ne soient dans un Seq RDF -- le constructeur de gabarits traitera les résultats dans n'importe quel ordre. Vous avez dû constater dans les exemples que les résultats qui ne sont pas dans un Seq ne sont pas affichés dans un ordre particulier.</p>

<p>Le service de tri sert à trier les résultats dans un ordre particulier, généralement croissant ou décroissant en fonction de la valeur d'un prédicat pointant en dehors du noeud résultat. Il supporte également un troisième tri, le tri naturel qui est celui par défaut. Ce dernier fait que les items apparaissent sans ordre déterminé dans l'ordre où ils sont ajoutés. Toutefois, si les résultats sont des items d'un Seq, ils apparaîtront dans le même ordre que dans le Seq. Par exemple, les photos sont listées dans le même ordre dans <a href="exemples/template-guide-ex19.xul" onclick="window.open(this.href,'xulex','chrome,resizable'); return false;">cet exemple</a> qu'elles apparaissent dans le Seq de <a href="exemples/template-guide-photos4.rdf">la source de données</a>.</p>

<p>Cette méthode de tri d'un Seq fonctionne bien pour les conditions d'une règle simplifiée puisqu'il est évident que la valeur de départ <code class="attribut">ref</code> fait directement référence à tous les résultats membres (ils sont juste ses fils), ou pour les règles de la syntaxe étendue qui suivent une forme similaire. Pour des règles plus complexes, ce tri naturel ne fonctionnera pas parce que le service de tri suppose que la ressource <code class="attribut">ref</code> de départ est le conteneur et que les résultats finaux sont les fils. Dans ce cas, l'ordre naturel des résultats sera simplement l'ordre dans lequel le constructeur de gabarits va générer les résultats.</p>

<p>Pour les tris croissant ou décroissant, ce n'est pas important puisqu'ils ignoreront le caractère de conteneurs des résultats et trieront simplement selon une valeur, alphabétiquement ou numériquement en fonction du type des données.</p>

<p>Le service de tri s'applique seulement aux constructeurs de contenu. Les constructeurs d'arbres utilisent une méthode différente et plus simple de tri puisqu'il n'y a pas de contenu à insérer. Ils supportent les même trois types de tri, naturel, croissant ou décroissant. Pour ces deux derniers types de tri, le constructeur d'arbres trie selon la valeur d'une colonne. Par exemple, si les photos étaient affichées dans un arbre à deux colonnes montrant le titre et la description, vous pourriez trier soit par le titre, soit par la description. L'utilisateur peut modifier le tri d'une colonne et sa direction en cliquant sur l'en-tête de la colonne, mais vous pouvez aussi modifier ce tri par la programmation.</p>

<p>Par la suite, nous verrons quelques exemples de tri sur des arbres. Nous examinerons les arbres en premier car ils sont plus simple à traiter, et vous utiliserez plus souvent le tri sur des arbres.</p>
