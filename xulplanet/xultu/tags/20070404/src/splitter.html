
<p>Ici, nous allons voir comment ajouter des séparateurs dans une fenêtre.</p>

<h2>Découpage d'une boîte</h2>

<p>Il arrive des fois où vous voulez disposer de deux sections dans une fenêtre
que l'utilisateur peut redimensionner à son gré. Un exemple
est la fenêtre du navigateur Mozilla, où vous pouvez changer
la taille du panneau latéral en déplaçant le trait
d'intersection des deux cadres. Vous pouvez aussi cacher ce panneau latéral
en cliquant sur la poignée de ce trait.</p>

<h3>Élément <code class="tag">splitter</code></h3>

<p>Cette fonctionnalité est accomplie en utilisant un élément
appelé <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/splitter">splitter</a></code>.
Il crée une barre étroite entre les deux sections en permettant
de redimensionner chaque côté. Vous pouvez placer un séparateur
où vous voulez pour vous permettre de redimensionner les éléments
situés avant lui et les éléments situés après
lui dans une même boîte.</p>

<p>Lorsqu'un séparateur est placé à l'intérieur
d'une boîte horizontale, il permet un redimensionnement horizontal.
Lorsqu'un séparateur est placé à l'intérieur
d'une boîte verticale, il permet un redimensionnement vertical.</p>

<p>La syntaxe d'un séparateur est la suivante&nbsp;:</p>

<pre><code>&lt;splitter
   id=&quot;identifier&quot;
   state=&quot;open&quot;
   collapse=&quot;before&quot;
   resizebefore=&quot;closest&quot;
   resizeafter=&quot;closest&quot;/&gt;
</code></pre>

<p>Les attributs sont les suivants&nbsp;:</p>

<dl>
<dt><code class="attribut">id</code></dt>
<dd>L'identifiant unique d'un séparateur.</dd>
<dt><code class="attribut">state</code></dt>
<dd>Indique l'état d'un séparateur. Mettez lui la valeur
    <var>open</var>, valeur par défaut, pour que le panneau redimensionnable
    soit initialement ouvert ou mettez lui la valeur <var>collapsed</var>
    pour qu'un des panneaux soit complètement réduit et que
    l'autre occupe toute la place.</dd>
<dt><code class="attribut">collapse</code></dt>
<dd>Il indique de quel côté le panneau doit se réduire
    quand la poignée du séparateur est cliquée ou quand le séparateur est initialisée
    avec un état <var>collapsed</var>. Mettez lui la valeur <var>before</var>
    pour désigner l'élément avant le séparateur
    ou la valeur <var>after</var> pour désigner l'élément
    après le séparateur. Si vous l'initialisez avec la valeur
    <var>none</var>, qui est aussi la valeur par défaut, la poignée
    du séparateur ne réduira pas les panneaux quand elle est cliquée.</dd>
<dt><code class="attribut">resizebefore</code></dt>
<dd>Lorsqu'un séparateur est déplacé, les éléments
    sur sa gauche sont redimensionnés. Cet attribut indique quel élément
    est concerné. Mettez la valeur <var>closest</var> pour que l'élément
    immédiatement à gauche du séparateur soit redimensionné.
    Mettez la valeur <var>farthest</var> pour que l'élément
    le plus éloigné à gauche du séparateur soit
    redimensionné (le premier élément de la boîte).
    La valeur par défaut est <var>closest</var>.</dd>
<dt><code class="attribut">resizeafter</code></dt>
<dd>Lorsqu'un séparateur est déplacé, les éléments
    sur sa droite sont redimensionnés. Cet attribut indique quel élément
    est concerné. Mettez la valeur <var>closest</var> pour que l'élément
    immédiatement à droite du séparateur soit redimensionné.
    Mettez la valeur <var>farthest</var> pour que l'élément
    le plus éloigné à droite du séparateur soit
    redimensionné (le dernier élément de la boîte).
    Cet attribut peut aussi avoir la valeur <var>grow</var>, dans ce cas,
    les éléments à droite du séparateur ne changent
    pas de taille lorsque le séparateur est déplacé.
    La valeur par défaut est <var>closest</var>.</dd>
</dl>

<p>Si vous employez l'attribut <code class="attribut">collapse</code>, vous
devrez aussi ajouter l'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/grippy">grippy</a></code>
à l'intérieur de l'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/splitter">splitter</a></code>
afin que l'utilisateur puisse utiliser la poignée pour réduire un panneau.</p>

<h3>Exemple avec <code class="tag">splitter</code></h3>

<p>Un exemple vous sera utile&nbsp;:</p>

<p>Exemple 4.6.1&nbsp;: 
<a href="exemples/ex_splitter_1.xul.txt">Source</a>
<a href="exemples/ex_splitter_1.xul" onclick="window.open(this.href,'xulex','chrome,resizable'); return false;">Voir</a></p>

<pre><code>&lt;hbox flex=&quot;1&quot;&gt;
   &lt;iframe id=&quot;content-1&quot; width=&quot;60&quot; height=&quot;20&quot; src=&quot;w1.html&quot;/&gt;
   &lt;splitter collapse=&quot;before&quot; resizeafter=&quot;farthest&quot;&gt;
     &lt;grippy/&gt;
   &lt;/splitter&gt;
   &lt;iframe id=&quot;content-2&quot; width=&quot;60&quot; height=&quot;20&quot; src=&quot;w2.html&quot;/&gt;
   &lt;iframe id=&quot;content-3&quot; width=&quot;60&quot; height=&quot;20&quot; src=&quot;w3.html&quot;/&gt;
   &lt;iframe id=&quot;content-4&quot; width=&quot;60&quot; height=&quot;20&quot; src=&quot;w4.html&quot;/&gt;
&lt;/hbox&gt;</code></pre>

<p><img src="images/splitter1.png" class="screenshot-right" alt="" />
Ici, quatre cadres <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/iframe">iframe</a></code>
ont été créés et un séparateur a été
placé entre le premier et le second. L'attribut <code class="attribut">collapse</code>
a été affecté d'une valeur <var>before</var> pour signifier
que si la poignée est cliquée, le premier cadre va disparaître,
et le séparateur et les cadres restants vont glisser vers la gauche.
La poignée du séparateur est centrée sur la barre de séparation.</p>

<p>La valeur <var>farthest</var> a été affectée à
l'attribut <code class="attribut">resizeafter</code> du séparateur.
Elle signifie que lorsque le séparateur est déplacé,
l'élément le plus éloigné après lui changera
sa taille. Dans ce cas, il s'agit du quatrième cadre.</p>

<p>Aucune valeur n'a été spécifiée pour l'attribut
<code class="attribut">resizebefore</code> qui aura donc sa valeur <var>closest</var>
par défaut. Dans ce cas, il n'y a qu'un cadre avant le séparateur,
c'est donc le premier cadre qui changera de taille.</p>

<p>Les deuxième et troisième cadres ne changeront leur taille
que si vous déplacez le séparateur suffisamment loin sur la
droite jusqu'à ce que le quatrième cadre ait atteint sa largeur
minimale.</p>

<p>Les quatre cadres avec le séparateur dans un état réduit&nbsp;:</p>

<p><img src="images/splitter2.png" class="screenshot" alt="" /></p>

<p>Une image des quatre cadres avec le séparateur redimensionné
vers la droite est montrée ci dessous. Notez que les deux cadres
du milieu n'ont pas changé leur dimension. Seuls les premier et quatrième
cadres ont changé de dimension. Vous pouvez seulement voir une partie
du quatrième cadre. Si vous continuez à déplacer le
séparateur vers la droite, les deux autres cadres vont se réduire.</p>

<p><img src="images/splitter3.png" class="screenshot" alt="" /></p>

<p>Vous pouvez utiliser des propriétés de style telles que <code class="attribut">min-width</code>,
<code class="attribut">max-width</code> sur les cadres pour spécifier
leurs largeurs minimales ou maximales ou leurs hauteurs dans la boîte.
Si vous faites cela, le séparateur va le détecter et ne permettra
pas de le déplacer au-delà des tailles minimales ou maximales.</p>

<p>Par exemple, si vous spécifiez un minimum de 30 pixels en largeur
sur le quatrième cadre, il ne se réduira pas en dessous de
cette taille. Les deux autres cadres vont alors se réduire. Si vous
mettez une largeur minimale de 50 pixels sur le premier cadre, vous ne pourrez
déplacer le séparateur que de 10 pixels vers la gauche (car
il démarre à 60 pixels de large). Toutefois, vous pouvez toujours
faire disparaître le cadre.</p>

<p>Vous pouvez également placer plus d'un séparateur dans une
boîte si vous le souhaitez, dans ce cas vous pourrez réduire
les différentes parties de son contenu. De façon similaire,
il n'y a pas que les cadres qui peuvent êre réduits, n'importe quel
élément peut l'être.</p>

<div class="task">
<h2>Notre exemple de recherche de fichiers</h2>

<p>Voyons ce que devient notre exemple de recherche de fichiers avec un séparateur.
Une possibilité serait d'inclure les résultats de la recherche
dans la boîte de dialogue. Nous ajouterons une zone entre les critères
de recherche et les boutons du bas. Un séparateur permettra de réduire
ou masquer les résultats de la recherche.</p>

<pre><code>&lt;/tabbox&gt;

  <strong>&lt;iframe src=&quot;results.html&quot;/&gt;
  &lt;splitter resizeafter=&quot;grow&quot;/&gt;</strong>

  &lt;hbox&gt;</code></pre>

<p>Ici, un séparateur et un cadre ont été ajoutés
à la boîte de dialogue. Nous n'avons plus besoin de l'élément
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/spacer">spacer</a></code>
après la boîte d'onglets, donc nous l'enlèverons. Le
contenu du cadre provient d'un fichier appelé 'result.html'. Créez
ce fichier et mettez ce que vous souhaitez dedans pour l'instant. Le cadre
sera remplacé plus tard par la liste des résultats lorsque
vous saurez comment la créer. Pour l'instant, il nous servira à
expliquer le séparateur.</p>

<p>Le séparateur a été initialisé avec la valeur
<var>before</var> sur l'attribut <code class="attribut">collapse</code>,
ce qui signifie que l'élément juste avant le séparateur
va se réduire. Ici, il s'agit du cadre. Comme montré sur
les images ci-dessous, lorsque la poignée est cliquée, le
cadre est masqué et les boutons glissent vers le haut.</p>

<p>L'attribut <code class="attribut">resizeafter</code> a été
initialisé avec une valeur <var>grow</var> pour que les éléments
situés après le séparateur se déplace vers
la bas lorsque celui ci est déplacé vers le bas. Le contenu
dans le cadre peut s'agrandir sans restriction. Vous noterez que la fenêtre
ne se redimensionne pas automatiquement. Vous remarquerez également
que c'est un séparateur horizontal pace qu'il a été placé
dans une boîte verticale.</p>

<p>Etat normal&nbsp;:</p>
<p><img src="images/splitter4.png" class="screenshot" alt="" /></p>

<p>Etat réduit&nbsp;:</p>
<p><img src="images/splitter5.png" class="screenshot" alt="" /></p>

<p>Exemple de recherche de fichiers&nbsp;:
<a href="exemples/findfile/findfiles-splitter.xul.txt">Source</a>
<a href="exemples/findfile/findfiles-splitter.xul" onclick="window.open(this.href,'xulex','chrome,resizable'); return false;">Voir</a></p>

</div>

<hr />

<p>Dans la section suivante, nous verrons comment créer une barre de défilement.</p>
