
<p>XUL dispose de nombreux types d'éléments pour créer des boîtes de listes.</p>

<h2>Zones de listes</h2>

<p>Une zone de liste est utilisée pour afficher un nombre d'items dans une
liste. L'utilisateur doit pouvoir choisir un des item de la liste.</p>

<p>XUL propose deux types d'éléments pour créer des listes, un élément
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/listbox">listbox</a></code>
pour créer des zones de liste multi-lignes, et un élément
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menulist">menulist</a></code>
pour créer des zones de listes déroulantes. Ils fonctionnent de la même manière
que l'élément <code class="tag">select</code> du langage HTML qui réalise
ces deux fonctions, mais les élements XUL ont plus de fonctionnalités.</p>

<p>La zone de liste la plus simple utilise l'élément
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/listbox">listbox</a></code>
pour créer la boîte, et l'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/ListItem">listitem</a></code>
pour chacun des items. Par exemple, cette zone de liste a quatre lignes,
une pour chaque item.</p>

<p>Exemple 2.5.1&nbsp;: <a href="exemples/ex_lists_1.xul.txt">Source</a>
<a href="exemples/ex_lists_1.xul" onclick="window.open(this.href,'xulex','chrome,resizable'); return false;">Voir</a></p>

<pre><code>&lt;listbox&gt;
   &lt;listitem label="Beurre de cacahuète"/&gt;
   &lt;listitem label="Chocolat à tartiner"/&gt;
   &lt;listitem label="Confiture de fraise"/&gt;
   &lt;listitem label="Crême chantilly"/&gt;
&lt;/listbox&gt;</code></pre>

<p><img src="images/list1.png" class="screenshot-right" alt="" />À l'instar
de la balise <code class="tag">option</code> du langage HTML, vous pouvez
assigner une valeur à chaque item en utilisant l'attribut
<code class="attribut">value</code>.
Vous pouvez ensuite utiliser cette valeur dans un script. Par défaut, la zone de
liste ajustera sa taille à son contenu, mais vous pouvez contrôler
sa taille avec l'attribut <code class="attribut">rows</code>.
Affectez lui le nombre de lignes que vous souhaitez voir apparaître dans
la zone de liste. Un ascenseur apparaîtra pour permettre à l'utilisateur
d'afficher les lignes supplémentaires.</p>

<p>L'exemple suivant montre ces fonctionnalités supplémentaires&nbsp;:</p>

<p>Exemple 2.5.2&nbsp;: <a href="exemples/ex_lists_2.xul.txt">Source</a>
<a href="exemples/ex_lists_2.xul" onclick="window.open(this.href,'xulex','chrome,resizable'); return false;">Voir</a></p>

<pre><code>&lt;listbox rows="3"&gt;
   &lt;listitem label="Beurre de cacahuète" value="becacah"/&gt;
   &lt;listitem label="Chocolat à tartiner" value="chotart"/&gt;
   &lt;listitem label="Confiture de fraise" value="confraise"/&gt;
   &lt;listitem label="Creme chantilly" value="crchant"/&gt;
&lt;/listbox&gt;</code></pre>

<p>L'exemple a été modifié pour n'afficher que 3 lignes à la fois. Des valeurs
ont également été ajoutées à chaque item de la liste. Les zones de liste
ont beaucoup d'autres fonctionnalités qui seront décrites plus tard.</p>

<h2>Boîte de liste multi-colonnes</h2>

<p>Les boîtes de liste supportent également les colonnes multiples.
Chaque cellule peut avoir un contenu arbitraire bien qu'il s'agisse souvent seulement de texte.
Quand un utilisateur séléctionne un item dans la liste, la ligne entière est séléctionnée.
Il n'est pas possible de sélectionner une seule cellule.</p>

<p>Deux balises sont utilisées pour spécifier les colonnes dans une boîte de liste.
L'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/listcols">listcols</a></code>
est utilisé pour contenir l'information sur les colonnes, chacune d'elles est spécifiée en utilisant
un élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/listcol">listcol</a></code>
Vous aurez besoin d'un élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/listcol">listcol</a></code>
pour chaque colonne de la liste.</p>

<p>L'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/listcell">listcell</a></code>
doit être utilisé pour chaque cellule dans une ligne.
Si vous voulez avoir trois colonnes, vous aurez besoin d'ajouter trois éléments
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/listcell">listcell</a></code>
à l'intérieur de chaque <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/listitem">listitem</a></code>.
Pour spécifier le contenu d'un texte de la cellule, placez un attribut
<code class="attribut">label</code> sur cet élément
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/listcell">listcell</a></code>.
Dans le cas simple où il n'y a qu'une seule colonne, vous pouvez aussi placer
l'attribut <code class="attribut">label</code> directement sur l'élément
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/listitem">listitem</a></code> et
omettre complètement les éléments
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/listcell">listcell</a></code>,
comme cela a été montré dans les exemples de listes précédents.</p>

<p>L'exemple suivant est une boîte de liste de deux colonnes et trois lignes.</p>

<p>Exemple 2.5.3&nbsp;:
<a href="exemples/ex_lists_3.xul.txt">Source</a>
<a href="exemples/ex_lists_3.xul" onclick="window.open(this.href,'xulex','chrome,resizable'); return false;">Voir</a>
</p>

<pre><code>&lt;listbox&gt;
   &lt;listcols&gt;
      &lt;listcol/&gt;
      &lt;listcol/&gt;
   &lt;/listcols&gt;
   &lt;listitem&gt;
      &lt;listcell label=&quot;George&quot;/&gt;
      &lt;listcell label=&quot;Peintre en bâtiment&quot;/&gt;
   &lt;/listitem&gt;
   &lt;listitem&gt;
      &lt;listcell label=&quot;Mary Ellen&quot;/&gt;
      &lt;listcell label=&quot;Fabriquant de bougies&quot;/&gt;
   &lt;/listitem&gt;
   &lt;listitem&gt;
      &lt;listcell label=&quot;Roger&quot;/&gt;
      &lt;listcell label=&quot;Bravache&quot;/&gt;
   &lt;/listitem&gt;
&lt;/listbox&gt;</code></pre>

<h2>Lignes d'en-tête</h2>

<p>Les boîtes de liste permettent également l'utilisation d'une ligne d'en-tête spéciale.
Elle n'est rien d'autre qu'une ligne normale, sauf qu'elle est affichée différemment.
Elle servira à créer des en-têtes de colonnes grâce à deux nouveaux éléments.</p>

<p>L'élément
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/listhead">listhead</a></code> est utilisé
pour définir la ligne d'en-tête, comme l'élément
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/listitem">listitem</a></code> est utilisé
pour définir une ligne normale.
La ligne d'en-tête n'est toutefois pas une ligne normale, ainsi un script permettant de
lire la première ligne d'une boîte de liste ne tiendra pas compte de cette ligne d'en-tête.</p>

<p>L'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/listheader">listheader</a></code>
est utilisé pour chaque cellule de l'en-tête.
Utilisez l'attribut <code class="attribut">label</code> pour définir le libellé de la cellule
d'en-tête.</p>

<p>Voici l'exemple précédent avec une ligne d'en-tête&nbsp;:</p>

<p>Exemple 2.5.4&nbsp;:
<a href="exemples/ex_lists_4.xul.txt">Source</a>
<a onclick="window.open(this.href,'xulex','chrome,resizable'); return false;" href="exemples/ex_lists_4.xul">Voir</a>
</p>

<pre><code>&lt;listbox&gt;

   &lt;listhead&gt;
      &lt;listheader label=&quot;Nom&quot;/&gt;
      &lt;listheader label=&quot;Activit&eacute;&quot;/&gt;
   &lt;/listhead&gt;

   &lt;listcols&gt;
      &lt;listcol/&gt;
      &lt;listcol flex=&quot;1&quot;/&gt;
   &lt;/listcols&gt;

   &lt;listitem&gt;
      &lt;listcell label=&quot;George&quot;/&gt;
      &lt;listcell label=&quot;Peintre en bâtiment&quot;/&gt;
   &lt;/listitem&gt;
   &lt;listitem&gt;
      &lt;listcell label=&quot;Mary Ellen&quot;/&gt;
      &lt;listcell label=&quot;Fabriquant de bougies&quot;/&gt;
   &lt;/listitem&gt;
   &lt;listitem&gt;
      &lt;listcell label=&quot;Roger&quot;/&gt;
      &lt;listcell label=&quot;Bravache&quot;/&gt;
   &lt;/listitem&gt;

&lt;/listbox&gt;</code></pre>

<p><img src="images/lists_3.png" alt="" class="screenshot-right" />
Dans cet exemple, l'attribut <code class="attribut">flex</code> est utilisé pour rendre
la colonne flexible. Cet attribut sera décrit dans une section ultérieure, mais ici,
il permet à la colonne de remplir tout l'espace disponible horizontalement.
Vous pouvez retailler la fenêtre pour voir que la colonne s'adapte en même temps que la fenêtre.
Si vous diminuez la taille horizontalement, les libellés sur les cellules seront raccourcis
automatiquement, en affichant des points de suite. Vous pouvez utiliser l'attribut
<code class="attribut">crop</code> sur les cellules ou sur les items, avec une valeur
<var>none</var> pour désactiver cette coupure.</p>

<h2>Zones de listes déroulantes</h2>

<p>Des listes déroulantes peuvent être créées en HTML avec la balise
<code class="tag">select</code>.
L'utilisateur ne voit qu'un unique choix dans une boîte de texte et doit
cliquer sur une flèche ou un bouton similaire à côté de la boîte de texte
pour changer la sélection. Les autres choix apparaitront alors dans une
fenêtre surgissante. XUL dispose de l'élément
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menulist">menulist</a></code>
qui peut servir à cet usage. Il est formé d'une boîte de texte
avec un bouton à son côté. Son nom a été choisi parce qu'il propose un menu
surgissant pour le choix.</p>

<p>Trois éléments sont nécessaires pour former une liste déroulante. Le premier
est l'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menulist">menulist</a></code>
qui crée la boîte de texte avec son bouton à côté. Le second,
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menupopup">menupopup</a></code>,
crée la fenêtre surgissante qui apparaît lorsque le bouton est cliqué. Le
troisième, <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menuitem">menuitem</a></code>,
crée les choix individuels.</p>

<p>Cette syntaxe est mieux décrite dans l'exemple ci-dessous&nbsp;:</p>

<p>Exemple 2.5.5&nbsp;: 
<a href="exemples/ex_lists_5.xul.txt">Source</a>
<a href="exemples/ex_lists_5.xul" onclick="window.open(this.href,'xulex','chrome,resizable'); return false;">Voir</a></p>

<pre><code>&lt;menulist label="Bus"&gt;
   &lt;menupopup&gt;
     &lt;menuitem label="Voiture"/&gt;
     &lt;menuitem label="Taxi"/&gt;
     &lt;menuitem label="Bus" selected="true"/&gt;
     &lt;menuitem label="Train"/&gt;
   &lt;/menupopup&gt;
&lt;/menulist&gt;</code></pre>

<p><img src="images/list2.png" class="screenshot-right" alt="" />
Ce menu contient quatre choix, un pour chaque élément
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menuitem">menuitem</a></code>.
Pour voir les choix possibles, cliquez sur le bouton flèche du menu. Lorsqu'un
item est sélectionné, il apparaît comme le choix fait dans le texte du menu.
L'attribut <code class="attribut">selected</code> est utilisé pour définir
la valeur sélectionnée par défaut.</p>

<h3>menulist éditable</h3>

<p>Par défaut, vous ne pouvez sélectionner que des choix proposés dans la
liste. Vous ne pouvez pas entrer votre propre sélection en la tapant au
clavier. Une variante de <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menulist">menulist</a></code>
le permet. 
Par exemple, le champ URL du navigateur dispose d'une liste déroulante pour afficher
les adresses précédemment utilisées, mais vous pouvez aussi la saisir vous même.</p>

<p>Pour créer une liste déroulante éditable, ajoutez l'attribut <code class="attribut">editable</code>
comme ceci&nbsp;:</p>

<p>Exemple 2.5.6&nbsp;: 
<a href="exemples/ex_lists_6.xul.txt">Source</a>
<a href="exemples/ex_lists_6.xul" onclick="window.open(this.href,'xulex','chrome,resizable'); return false;">Voir</a></p>

<pre><code>&lt;menulist <strong>editable="true"</strong>&gt;
   &lt;menupopup&gt;
     &lt;menuitem label="www.mozilla.org"/&gt;
     &lt;menuitem label="www.xulplanet.com"/&gt;
     &lt;menuitem label="www.dmoz.org"/&gt;
   &lt;/menupopup&gt;
&lt;/menulist&gt;</code></pre>

<p>Le champ URL créé ici a trois adresses pré-saisies que l'utilisateur peut
sélectionner ou alors il peut taper la sienne dans le champ. Le texte entré
par l'utilisateur ne sera pas ajouté comme un futur choix à cette liste.
Comme l'attribut <code class="attribut">label</code> n'a pas été utilisé
dans cet exemple, sa valeur par défaut sera vide.</p>

<hr />

<p>Dans la section suivante, nous apprendrons comment ajouter des indicateurs de progression.</p>
