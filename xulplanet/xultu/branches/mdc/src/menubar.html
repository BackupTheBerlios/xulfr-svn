
<p>Dans cette section, nous allons voir comment créer une barre de menu avec des menus dessus.</p>

<h2>Créer un menu</h2>

<p>XUL dispose de plusieurs façons différentes de créer des menus. Le moyen le plus basique est d'ajouter
une barre de menu avec une ligne de menus dessus comme sur de nombreuses applications. Vous pouvez
aussi créer des menus surgissants. Les fonctionnalités de menu XUL se composent de
différents éléments qui vous permettent de créer des barres de menus ou des menus surgissants. Les
items des menus peuvent être personnalisés assez facilement. Nous avons déjà vu en partie comment
faire des menus en utilisant <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menulist">menulist</a></code>.
Cette section sera construite là-dessus.</p>

<p>Les barres de menu sont généralement créées de la même façon que les barres d'outils. La barre de menu
peut-être placée dans une <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/toolbox">toolbox</a></code>
et une poignée (grippy) apparaîtra sur son côté gauche pour qu'elle puisse être cachée 
(Attention&nbsp;:firefox ne supporte plus les poignées). 
Le menu fonctionne juste comme n'importe quel autre barre d'outils. XUL a quelques éléments spéciaux
qui fournissent des fonctionnalités spéciales propres aux menus.</p>

<p>Il y a cinq éléments associés à la création d'une barre de menu et de ses menus, qui sont
expliqués brièvement ici et en détail après&nbsp;:</p>

<dl>
   <dt><code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menubar">menubar</a></code></dt>
      <dd>Le container de la ligne de menu.</dd>
   <dt><code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menu">menu</a></code></dt>
      <dd>En dépit du nom, il s'agit en fait seulement du titre du menu sur la barre de menu.
      Cet élément peut être placé sur une barre de menu ou séparément.</dd>
   <dt><code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menupopup">menupopup</a></code></dt>
      <dd>La boîte déroulante qui apparaît quand vous cliquez sur le titre du menu. Cette
      boîte contient la liste des commandes de menu.</dd>
   <dt><code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menuitem">menuitem</a></code></dt>
      <dd>Une commande individuelle sur un menu. Il est placé dans un <code class="tag">menupopup</code>.</dd>
   <dt><code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menuseparator">menuseparator</a></code></dt>
      <dd>Une barre de séparation sur un menu. Il est placé dans un <code class="tag">menupopup</code>.</dd>
</dl>

<p>Vous pouvez personnaliser les menus sur la barre de menu comme vous le souhaitez
pour toutes les plates-formes excepté pour le Macintosh. C'est parce que le Macintosh a son propre
menu spécial en haut de l'écran contrôlé par le système. Bien que vous puissiez
créer des menus personnalisés, toutes règles spéciales de style ou éléments non-menu que vous placez
sur un menu peuvent ne pas être appliqués. Vous devez garder cette notion à l'esprit quand vous créez
des menus.</p>

<h3>Exemple d'une simple barre de menu</h3>

<p>Exemple 5.2.1&nbsp;:
<a href="exemples/ex_menubar_1.xul.txt">Source</a>
<a href="exemples/ex_menubar_1.xul" onclick="window.open(this.href,'xulex','chrome,resizable'); return false;">Voir</a></p>

<pre><code>
&lt;toolbox flex="1"&gt;
  &lt;menubar id="sample-menubar"&gt;
    &lt;menu id="file-menu" label="Fichier"&gt;
      &lt;menupopup id="file-popup"&gt;
        &lt;menuitem label="Nouveau"/&gt;
        &lt;menuitem label="Ouvrir"/&gt;
        &lt;menuitem label="Enregistrer"/&gt;
        &lt;menuseparator/&gt;
        &lt;menuitem label="Quitter"/&gt;
      &lt;/menupopup&gt;
    &lt;/menu&gt;
    &lt;menu id="edit-menu" label="Edition"&gt;
      &lt;menupopup id="edit-popup"&gt;
        &lt;menuitem label="Annuler"/&gt;
        &lt;menuitem label="Refaire"/&gt;
      &lt;/menupopup&gt;
    &lt;/menu&gt;
  &lt;/menubar&gt;
&lt;/toolbox&gt;</code></pre>

<p><img src="images/menubar_1.png" class="screenshot-right" alt="Exemple d'une simple barre de menu" />
Ici, une simple barre de menu est créée en utilisant l'élément
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menubar">menubar</a></code>. Il va créer une
ligne pour y placer des menus. Deux menus, Fichier et Edition ont été créés ici. L'élément
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menu">menu</a></code> crée le titre en haut
du menu, qui apparaît sur la barre de menu. Les menus déroulants sont créés en utilisant
l'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menupopup">menupopup</a></code>.
Le menu va s'ouvrir quand l'utilisateur cliquera sur le titre du menu parent. La taille du menu
sera suffisamment large pour que les commandes tiennent à l'intérieur. Les commandes elles-mêmes
sont créées en utilisant l'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menuitem">menuitem</a></code>.
Chacune d'elles représente une unique commande dans le menu déroulant.</p>

<p>Vous pouvez aussi créer des séparateurs sur les menus en utilisant l'élément
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menuseparator">menuseparator</a></code>.
Il est utilisé pour séparer des groupes d'items de menu.</p>

<h3>Élément <code class="tag">menubar</code></h3>

<p>La barre de menu est une boîte contenant des menus. Notez qu'elle a été placée dans une
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/toolbox">toolbox</a></code> flexible. La barre
de menu n'a pas d'attributs spéciaux mais c'est un type de boîte. De ce fait, vous pouvez
créer une barre de menu verticale en affectant la valeur <code class="valeur">vertical</code>
à l'attribut <code class="attribut">orient</code>.</p>

<h3>Élément <code class="tag">menu</code></h3>

<p>L'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menu">menu</a></code> fonctionne
comme l'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/button">button</a></code>. Il
accepte certains attributs semblables plus quelques autres&nbsp;:</p>

<dl>
   <dt><code class="attribut">id</code></dt>
      <dd>L'identifiant unique du boutton de titre du menu.</dd>
   <dt><code class="attribut">label</code></dt>
      <dd>Le texte qui apparaît sur le menu, comme Fichier ou Edition.</dd>
   <dt><code class="attribut">disabled</code></dt>
      <dd>Cet attribut booléen determine si le menu est désactivé. Bien que ce soit permis,
      il est rarement utile de désactiver un menu entier. Cet attribut peut être mis à
      <var>true</var> (vrai) ou <var>false</var> (faux). Bien
      sûr, cette dernière valeur est celle par défaut.</dd>
   <dt><code class="attribut">accesskey</code></dt>
      <dd>Il s'agit de la touche que l'utilisateur peut presser pour activer le menu. Cette lettre est
      habituellement soulignée dans le titre du menu. Mozilla va regarder dans l'attribut
      <code class="attribut">label</code> et ajouter un caractère <em>soulignement</em> au caractère
      spécifié ici. Pour cette raison, vous devez spécifier un caractère qui existe dans le
      texte (bien que la touche fonctionnera toujours si ce n'est pas le cas).</dd>
</dl>

<p><img src="images/menubar_2.png" class="screenshot-right" alt="Exemple précédent sans barre de menu" />
L'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menu">menu</a></code> est normalement
placé sur une barre de menu, bien que ce ne soit pas nécessaire. Cependant, il donnera une
autre apparance. L'image montre à quoi l'exemple précédent ressemblerait sans la
barre de menu.</p>

<h3>Élément <code class="tag">menupopup</code></h3>

<p>L'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menupopup">menupopup</a></code> crée
la fenêtre déroulante contenant les commandes de menu. C'est un type de boîte qui est orienté
verticalement par défaut. Vous pouvez passer en orientation horizontale si vous le voulez, les
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menuitem">menuitem</a></code>s seront alors placés
sur une même ligne. Normalement seuls les <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menuitem">menuitem</a></code>s
et les <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menuseparator">menuseparator</a></code>s
sont placés dans un <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menupopup">menupopup</a></code>. 
Vous pouvez placer n'importe quel élément dans un
<code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menupopup">menupopup</a></code>, cependant
ils seront ignorés sur un Macintosh.</p>

<h3>Élément <code class="tag">menuitem</code></h3>

<p>L'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menuitem">menuitem</a></code> est
comme l'élément <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menu">menu</a></code> et
comporte quelques attributs semblables.</p>

<dl>
   <dt><code class="attribut">id</code></dt>
      <dd>L'identifiant unique du bouton du menu.</dd>
   <dt><code class="attribut">label</code></dt>
      <dd>Le texte qui apparaît sur l'item de menu, comme Ouvrir ou Enregistrer.</dd>
   <dt><code class="attribut">disabled</code></dt>
      <dd>Cet attribut booléen determine si l'item de menu est désactivé. Cet attribut peut
      être mis à <var>true</var> (vrai) ou <var>false</var> (faux), qui est la valeur par défaut.</dd>
   <dt><code class="attribut">accesskey</code></dt>
      <dd>Il s'agit de la touche que l'utilisateur peut presser pour activer l'item de menu. Cette lettre
      est habituellement soulignée dans le libéllé de l'item de menu. Mozilla va regarder dans l'attribut
      <code class="attribut">label</code> et ajouter un caractère <em>soulignement</em> au caractère
      spécifié ici. Pour cette raison, vous devez spécifier un caractère qui existe dans le texte.</dd>
   <dt><code class="attribut">acceltext</code></dt>
      <dd>Cet attribut spécifie le texte de la touche de raccourci qui apparaît près du texte de la
      commande de menu. Cependant, il n'associe pas de touche d'action avec l'item de menu.
      Nous verrons comment faire cela plus tard.</dd>
</dl>

<h3>Élément <code class="tag">menuseparator</code></h3>

<p>Le <code class="tag"><a href="http://xulfr.org/wiki/Reference/Xul/menuseparator">menuseparator</a></code> n'a
pas d'attribut spécial. Il crée juste une barre horizontale entre les items de menu.</p>

<hr />

<p>Nous allons maintenant voir quelques autres fonctions de menu.</p>
